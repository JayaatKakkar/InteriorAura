// const Teampage1=()=>{
//     return(
//         <>
//  <div class="container-xxl py-5">
//         <div class="container">
//             <div class="text-center mx-auto mb-5 wow fadeInUp" data-wow-delay="0.1s" style={{maxWidth: 600}}>
//                 <h4 class="section-title">Team Members</h4>
//                 <h1 class="display-5 mb-4">We Are Creative Architecture Team For Your Dream Home</h1>
//             </div>
//             <div class="row g-0 team-items">
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-1.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-2.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-3.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.7s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-4.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.1s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-2.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.3s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-3.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.5s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-4.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//                 <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="0.7s">
//                     <div class="team-item position-relative">
//                         <div class="position-relative">
//                             <img class="img-fluid" src="img/team-1.jpg" alt=""/>
//                             <div class="team-social text-center">
//                                 <a class="btn btn-square" href=""><i class="fab fa-facebook-f"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-twitter"></i></a>
//                                 <a class="btn btn-square" href=""><i class="fab fa-instagram"></i></a>
//                             </div>
//                         </div>
//                         <div class="bg-light text-center p-4">
//                             <h3 class="mt-2">Architect Name</h3>
//                             <span class="text-primary">Designation</span>
//                         </div>
//                     </div>
//                 </div>
//             </div>
//         </div>
//     </div>
// </>
//     );
//     }
//     export default Teampage1;
import React, { useEffect, useState } from 'react';
import axios from 'axios';

const Teampage1 = () => {
  const [architects, setArchitects] = useState([]);
  const [selectedArchitect, setSelectedArchitect] = useState(null);

  useEffect(() => {
    const fetchArchitects = async () => {
      try {
        const res = await axios.get('https://interioraura.onrender.com/Architectprofile');
        setArchitects(res.data);
      } catch (err) {
        console.error('Error fetching architects:', err);
      }
    };
    fetchArchitects();
  }, []);

  const handleCardClick = (architect) => {
    setSelectedArchitect(architect);
  };

  const closeModal = () => {
    setSelectedArchitect(null);
  };

  // Disable/Enable scrolling when modal is opened/closed
  useEffect(() => {
    if (selectedArchitect) {
      document.body.style.overflow = 'hidden';
    } else {
      document.body.style.overflow = 'auto';
    }

    return () => {
      document.body.style.overflow = 'auto'; // Cleanup when component unmounts
    };
  }, [selectedArchitect]);

  return (
    <div className="container-xxl py-5">
      <div className="container">
        <div
          className="text-center mx-auto mb-5 wow fadeInUp"
          data-wow-delay="0.1s"
          style={{ maxWidth: 600 }}
        >
          <h4 className="section-title">Team Members</h4>
          <h1 className="display-5 mb-4">We Are Creative Architecture Team For Your Dream Home</h1>
        </div>

        <div className="row g-4">
          {architects.map((architect, index) => (
            <div
              className="col-lg-3 col-md-6 wow fadeInUp"
              data-wow-delay={`${0.1 + (index % 4) * 0.2}s`}
              key={architect._id}
              onClick={() => handleCardClick(architect)}
              style={{ cursor: 'pointer' }}
            >
              <div className="team-item position-relative">
                <div className="position-relative">
                  <img
                    className="img-fluid"
                    src={`https://interioraura.onrender.com/${architect.architect_image}`}
                    alt={architect.architect_name}
                    style={{ height: '300px', width: '100%', objectFit: 'cover' }}
                  />
                  <div className="team-social text-center">
                    {architect.facebook_id && (
                      <a className="btn btn-square" href={architect.facebook_id} target="_blank" rel="noreferrer">
                        <i className="fab fa-facebook-f"></i>
                      </a>
                    )}
                    {architect.email_id && (
                      <a className="btn btn-square" href={`mailto:${architect.email_id}`} target="_blank" rel="noreferrer">
                        <i className="fas fa-envelope"></i>
                      </a>
                    )}
                    {architect.instagram_id && (
                      <a className="btn btn-square" href={architect.instagram_id} target="_blank" rel="noreferrer">
                        <i className="fab fa-instagram"></i>
                      </a>
                    )}
                  </div>
                </div>
                <div className="bg-light text-center p-4">
                  <h3 className="mt-2">{architect.architect_name}</h3>
                  <span className="text-primary">{architect.company_name || 'Architect'}</span>
                </div>
              </div>
            </div>
          ))}
        </div>

        {architects.length === 0 && (
          <p className="text-center mt-5">No architects found.</p>
        )}

        {/* Modal */}
        {selectedArchitect && (
          <div
            className="modal show d-block"
            tabIndex="-1"
            style={{
              backgroundColor: 'rgba(0, 0, 0, 0.5)',
              position: 'fixed',
              top: 0,
              left: 0,
              width: '100vw',
              height: '100vh',
              zIndex: 1050,
              overflow: 'hidden',
              transition: 'opacity 0.3s ease',
              opacity: 1,
            }}
            onClick={closeModal}
          >
            <div
              className="modal-dialog modal-lg modal-dialog-centered"
              onClick={(e) => e.stopPropagation()}
              style={{
                marginTop: '50px', // Adjust top margin for the slide-down effect
                transition: 'transform 0.3s ease',
                transform: 'translateY(0)', // Animation effect to slide down
              }}
            >
              <div className="modal-content">
                <div className="modal-header">
                  <h5 className="modal-title">{selectedArchitect.architect_name}</h5>
                  <button type="button" className="btn-close" onClick={closeModal}></button>
                </div>
                <div className="modal-body d-flex flex-column flex-md-row gap-4">
                  <div className="col-md-6">
                    <img
                      src={`https://interioraura.onrender.com/${selectedArchitect.architect_image}`}
                      alt={selectedArchitect.architect_name}
                      className="img-fluid rounded"
                      style={{ width: '100%', height: 'auto', objectFit: 'cover' }}
                    />
                  </div>
                  <div className="col-md-6">
                    <p><strong>Company:</strong> {selectedArchitect.company_name || 'N/A'}</p>
                    <p><strong>Email:</strong> <a href={`mailto:${selectedArchitect.email_id}`}>{selectedArchitect.email_id}</a></p>
                    {selectedArchitect.facebook_id && (
                      <p><strong>Facebook:</strong> <a href={selectedArchitect.facebook_id} target="_blank" rel="noreferrer">Visit</a></p>
                    )}
                    {selectedArchitect.instagram_id && (
                      <p><strong>Instagram:</strong> <a href={selectedArchitect.instagram_id} target="_blank" rel="noreferrer">Visit</a></p>
                    )}
                    <p><strong>About:</strong><br /> {selectedArchitect.about || 'No description available.'}</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default Teampage1;

